<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - User Management</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/dash/css/dashboard.css">
</head>
<body>
  <div id="navbar-container"></div>

<!-- Check if user is authenticated -->
<script>
  if (!localStorage.getItem('authToken')) {
    window.location.href = 'login.html'; // Redirect to login if not authenticated
  }
</script>

<!-- Header -->
<div class="dashboard-header text-center">
  <h2>Dashboard</h2>
  <p>Welcome, Admin</p>

</div>

<!-- Dashboard Stats -->
<div class="container mt-4">
  <div class="row">
    <!-- Total Users Card -->
    <div class="col-md-3">
      <div class="card card-stat">
        <div class="card-body">
          <h5>Total Users</h5>
          <p id="totalUsers" class="stat-title">0</p>
        </div>
      </div>
    </div>
    <!-- Active Users Card -->
    <div class="col-md-3">
      <div class="card card-stat">
        <div class="card-body">
          <h5>Active Users</h5>
          <p id="activeUsers" class="stat-title">0</p>
        </div>
      </div>
    </div>
    <!-- Pending Approvals Card -->
    <div class="col-md-3">
      <div class="card card-stat">
        <div class="card-body">
          <h5>Pending Approvals</h5>
          <p id="pendingApprovals" class="stat-title">0</p>
        </div>
      </div>
    </div>
    <!-- New Users This Week Card -->
    <div class="col-md-3">
      <div class="card card-stat">
        <div class="card-body">
          <h5>New Users This Week</h5>
          <p id="newUsersWeek" class="stat-title">0</p>
        </div>
      </div>
    </div>
  </div>

  <!-- User Growth Chart -->
  <div class="chart-container">
    <h4>User Growth Over Time</h4>
    <canvas id="userGrowthChart"></canvas>
  </div>

  <!-- User Activity Breakdown (Pie Chart) -->
  <div class="chart-container">
    <h4>User Activity Breakdown</h4>
    <canvas id="activityBreakdownChart"></canvas>
  </div>

  <!-- Monthly User Registrations (Bar Chart) -->
  <div class="chart-container">
    <h4>Monthly User Registrations</h4>
    <canvas id="monthlyRegistrationsChart"></canvas>
  </div>

  <!-- Recent Users Table -->
  <h4 class="mt-5">Recent Users</h4>
  <table class="table table-bordered recent-users-table">
    <thead>
    <tr>
      <th>#</th>
      <th>Username</th>
      <th>Email</th>
      <th>Registration Date</th>
    </tr>
    </thead>
    <tbody id="recentUsersTable">
    <!-- Recent User Entries -->
    </tbody>
  </table>

  <!-- Alerts/Notifications Section -->
  <div class="alert-box">
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
      <strong>Important!</strong> Some users need approval before being fully activated.
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div class="alert alert-info alert-dismissible fade show" role="alert">
      <strong>Reminder!</strong> There are 5 pending requests for new users.
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  </div>
</div>
<div id="footer-container"></div>
  <script src="/dash/js/dashboard.js"></script>
  <script src="/dash/js/components.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"></script>

<script>
  // Logout functionality
  document.getElementById('logoutButton').addEventListener('click', function() {
    localStorage.removeItem('authToken'); // Remove authentication token
    window.location.href = 'login.html'; // Redirect to login page
  });
</script>


</body>
</html>
